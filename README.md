# Telegram YouTube Audio Bot

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π Telegram-–±–æ—Ç–∞ –Ω–∞ –±–∞–∑–µ aiogram, –∫–æ—Ç–æ—Ä—ã–π —Å–∫–∞—á–∏–≤–∞–µ—Ç –∞—É–¥–∏–æ —Å YouTube, –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–±–∏–≤–∞–µ—Ç –±–æ–ª—å—à–∏–µ —Ñ–∞–π–ª—ã –Ω–∞ —á–∞—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é ffmpeg, –∏ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∏—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é. –ë–æ—Ç —Ç–∞–∫–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Celery –∏ Redis –¥–ª—è —Ñ–æ–Ω–æ–≤–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏, Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏ –∏ Flower –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ –∑–∞–¥–∞—á.

# –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
- –ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å: –ü—Ä–æ—Å—Ç–æ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ –±–æ—Ç—É —Å—Å—ã–ª–∫—É –Ω–∞ –≤–∏–¥–µ–æ ‚Äî –æ–Ω —Å–∞–º —Å–∫–∞—á–∞–µ—Ç –∞—É–¥–∏–æ, –∏ –ø—Ä–∏—à–ª—ë—Ç –≤–∞–º –≥–æ—Ç–æ–≤–æ–µ –∞—É–¥–∏–æ.
- –°–∏—Å—Ç–µ–º–∞ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ: –ü–æ–Ω—Ä–∞–≤–∏–ª—Å—è —Ç—Ä–µ–∫? –î–æ–±–∞–≤—å—Ç–µ –µ–≥–æ –≤ –∏–∑–±—Ä–∞–Ω–Ω–æ–µ –æ–¥–Ω–∏–º –Ω–∞–∂–∞—Ç–∏–µ–º! –ë–æ—Ç –∑–∞–ø–æ–º–Ω–∏—Ç –µ–≥–æ, —á—Ç–æ–±—ã –≤—ã –º–æ–≥–ª–∏ –≤–µ—Ä–Ω—É—Ç—å—Å—è –∫ –Ω–µ–º—É –ø–æ–∑–∂–µ. –ü–µ—Ä–µ–¥—É–º–∞–ª–∏? –ü—Ä–æ—Å—Ç–æ –Ω–∞–∂–º–∏—Ç–µ üëé, –∏ —Ç—Ä–µ–∫ –∏—Å—á–µ–∑–Ω–µ—Ç –∏–∑ –∏–∑–±—Ä–∞–Ω–Ω–æ–≥–æ.
- –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–æ–ª—å—à–∏—Ö —Ñ–∞–π–ª–æ–≤: –ï—Å–ª–∏ —Ñ–∞–π–ª —Å–ª–∏—à–∫–æ–º –±–æ–ª—å—à–æ–π –¥–ª—è Telegram, –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–∞–∑–æ–±—å—ë—Ç –µ–≥–æ –Ω–∞ —á–∞—Å—Ç–∏ —Å –ø–æ–º–æ—â—å—é ffmpeg –∏ –æ—Ç–ø—Ä–∞–≤–∏—Ç –≤–∞–º –ø–æ –æ—á–µ—Ä–µ–¥–∏.
- –§–æ–Ω–æ–≤–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞: –†–∞–∑–±–∏–µ–Ω–∏–µ –±–æ–ª—å—à–æ–≥–æ –∞—É–¥–∏–æ –Ω–∞ —á–∞—Å—Ç–∏ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Celery –∏ Redis. –î–ª—è —É–¥–æ–±—Å—Ç–≤–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –¥–æ–±–∞–≤–ª–µ–Ω Flower.
- –í—Ä–µ–º–µ–Ω–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è: –ê—É–¥–∏–æ –Ω–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î, –∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –æ–±—â–µ–º —Ç–æ–º–µ (–î–ª—è Celery –∏ –±–æ—Ç–∞) –∏ —É–¥–∞–ª—è—é—Ç—Å—è –ø–æ—Å–ª–µ –æ–±—Ä–∞–±–æ—Ç–∫–∏.

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
```
git clone https://github.com/dagedarr/youtube-music-bot.git

cd youtube-music-bot/
```
–ï—Å–ª–∏ –≤—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Git, —Ç–æ –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ —Å–∫–∞—á–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è –≤ ZIP-–∞—Ä—Ö–∏–≤–µ –∏ —Ä–∞—Å–ø–∞–∫–æ–≤–∞—Ç—å –µ–≥–æ –Ω–∞ —Å–≤–æ–π –∫–æ–º–ø—å—é—Ç–µ—Ä.

2. –ü–µ—Ä–µ–∏–º–µ–Ω—É–π—Ç–µ .env.example –≤ .env –∏ —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤–Ω—É—Ç—Ä–∏ —ç—Ç–æ–≥–æ —Ñ–∞–π–ª–∞

## –ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker:

3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ docker-compose

```
cd infra/

docker-compose up -d
```
4. –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –∫–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –ë–î

```
docker-compose exec app alembic upgrade head
```

## –ï—Å–ª–∏ –í—ã –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Docker

3. –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ youtube-music-bot –≤—ã–ø–æ–ª–Ω–∏—Ç–µ —Å–ª–µ–¥—É—é—â–∏–µ –∫–æ–º–∞–Ω–¥—ã:

```
python main.py

celery -A tasks.tasks:app worker --loglevel=INFO --pool=solo

celery -A tasks.tasks:app flower
```

# –ì–æ—Ç–æ–≤–æ!
–í—ã —É—Å–ø–µ—à–Ω–æ —É—Å—Ç–∞–Ω–æ–≤–∏–ª–∏ –±–æ—Ç–∞ –∏ –≥–æ—Ç–æ–≤—ã –Ω–∞—á–∞—Ç—å –µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å!

# –í–∫–ª–∞–¥ –≤ –ø—Ä–æ–µ–∫—Ç
–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è –ø–æ —É–ª—É—á—à–µ–Ω–∏—é –∏–ª–∏ –≤—ã –æ–±–Ω–∞—Ä—É–∂–∏–ª–∏ –±–∞–≥, –Ω–µ —Å—Ç–µ—Å–Ω—è–π—Ç–µ—Å—å —Å–æ–∑–¥–∞—Ç—å issue, –æ—Ç–ø—Ä–∞–≤–∏—Ç—å pull request –ª–∏–±–æ –Ω–∞–ø–∏—Å–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –∞–≤—Ç–æ—Ä—É. –í–∞—à –≤–∫–ª–∞–¥ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤—É–µ—Ç—Å—è!

# –ê–≤—Ç–æ—Ä
[–ù–∞—Ç–æ–ª–∏–Ω –ê—Ä—Ç–µ–º](https://github.com/dagedarr)
